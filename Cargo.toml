[package]
name = "solana"
version = "0.1.0"
edition = "2021"

[dependencies]
relayer-core = { git = "https://github.com/commonprefix/axelar-relayer-core", branch = "temp-solana" }
dotenv = "0.15.0"
tokio = { version = "1.41.1", features = ["full", "test-util"] }
anyhow = "1.0.93"
serde = "1.0.215"
serde_json = "1.0.133"
redis = { version = "0.32.4", features = ["tokio-rustls-comp"] }
tracing = "0.1.40"
sqlx = { version = "0.8.1", features = [
    "runtime-tokio-rustls",
    "postgres",
    "chrono",
] }
chrono = { version = "0.4.40", features = ["serde"] }
solana-client = "~2.1"
solana-rpc-client = "~2.1"
solana-rpc-client-api = "~2.1"
solana-sdk = "~2.1"
solana-transaction-status = "~2.1"
solana-pubsub-client = "~2.1"
solana-transaction-status-client-types = "~2.1"
interchain-token-service = { git = "https://github.com/commonprefix/axelar-amplifier", branch = "xrpl", package = "interchain-token-service" }
futures = "0.3.31"
futures-util = "0.3.31"
async-trait = "0.1.88"
thiserror = "2.0.3"
hex = "0.4.3"
tokio-util = "0.7.12"
bs58 = "0.5"
borsh = "1"
base64 = "0.22.1"
httpmock = "0.7.0"

[dev-dependencies]
mockall = "0.13.1"
testcontainers = "0.24.0"
testcontainers-modules = { version = "0.12.1", features = ["postgres"] }
tracing-test = "0.2.5"

[lints.clippy]
uninlined_format_args = "allow"
unwrap_used = "warn"
indexing_slicing = "warn"
clone_on_ref_ptr = "warn"
redundant_clone = "warn"
unnecessary_box_returns = "warn"

[[bin]]
name = "subscriber"
path = "src/bin/solana_subscriber.rs"

[[bin]]
name = "ingestor"
path = "src/bin/solana_ingestor.rs"
